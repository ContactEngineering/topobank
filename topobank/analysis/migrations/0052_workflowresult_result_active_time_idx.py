# Generated by Django 5.2.10 on 2026-02-02 16:37
# Modified to be state-only: Index already exists from migration 0049 (created via RunSQL)

from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('analysis', '0051_alter_task_state'),
        ('authorization', '0003_add_permission_performance_indexes'),
        ('files', '0009_rename_upload_confirmed_manifest_confirmed_at'),
        ('organizations', '0005_fix_plugins_available_data'),
        ('taskapp', '0002_alter_configuration_table_alter_dependency_table_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        # State-only migration: Index already exists in database from RunSQL in migration 0049
        # This operation only updates Django's migration state to know about the index
        migrations.SeparateDatabaseAndState(
            state_operations=[
                migrations.AddIndex(
                    model_name='workflowresult',
                    index=models.Index(condition=models.Q(('deprecation_time__isnull', True)), fields=['-task_start_time'], name='result_active_time_idx'),
                ),
            ],
            database_operations=[
                # No database operations - index already exists
            ],
        ),
    ]
